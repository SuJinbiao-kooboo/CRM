# IT分销公司CRM系统部署说明

## 系统概述

本CRM系统是专为IT分销公司设计的客户关系管理系统，采用前后端分离架构，支持线索管理、客户管理、订单管理、库存管理等核心业务功能。

## 技术架构

### 后端技术栈
- **Java 8+**: 核心开发语言
- **Spring Boot 2.x**: 应用框架
- **MyBatis-Plus**: ORM框架
- **MySQL 8.0**: 数据库
- **Maven**: 项目管理工具

### 前端技术栈
- **Vue 2.x**: 前端框架
- **Element UI**: UI组件库
- **Vuex**: 状态管理
- **Vue Router**: 路由管理
- **Axios**: HTTP客户端

## 环境要求

### 开发环境
- JDK 8 或更高版本
- Node.js 14+ 和 npm
- MySQL 8.0+
- Maven 3.6+
- IDE: IntelliJ IDEA 或 Eclipse

### 生产环境
- Linux/Windows Server
- JDK 8 或更高版本
- MySQL 8.0+
- Nginx (可选，用于反向代理)

## 快速部署

### 1. 数据库初始化

```sql
-- 1. 创建数据库
CREATE DATABASE crm_system DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 2. 导入数据库结构
mysql -u root -p crm_system < database/crm_database.sql

-- 3. 导入初始数据
mysql -u root -p crm_system < database/init_data.sql
```

### 2. 后端部署

```bash
# 进入后端目录
cd Back-Server

# 修改配置文件
# 编辑 src/main/resources/application.yml
# 配置数据库连接信息

# 编译打包
mvn clean package -DskipTests

# 运行应用
java -jar target/crm-system-1.0.0.jar

# 或者直接运行
mvn spring-boot:run
```

### 3. 前端部署

```bash
# 进入前端目录
cd Front-Server

# 安装依赖
npm install

# 开发环境运行
npm run dev

# 生产环境打包
npm run build

# 部署到nginx
cp -r dist/* /var/www/html/
```

### 4. 一键启动脚本

Windows环境可以直接运行根目录下的 `start.bat` 脚本：

```bash
# 双击运行 start.bat 或在命令行执行
start.bat
```

## 配置说明

### 后端配置 (application.yml)

```yaml
# 服务器配置
server:
  port: 8081

# 数据库配置
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/crm_system?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
    username: root
    password: your_password
    driver-class-name: com.mysql.cj.jdbc.Driver

# MyBatis-Plus配置
mybatis-plus:
  mapper-locations: classpath*:mapper/**/*Mapper.xml
  type-aliases-package: com.crm.*.domain
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: false
    call-setters-on-nulls: true
    jdbc-type-for-null: 'null'
```

### 前端配置

修改 `Front-Server/src/utils/request.js` 中的API基础地址：

```javascript
// 根据环境配置API基础地址
const service = axios.create({
  baseURL: process.env.NODE_ENV === 'production' ? 'http://your-domain.com/api' : 'http://localhost:8081',
  timeout: 10000
})
```

## 系统功能模块

### 已实现功能

1. **系统管理**
   - ✅ 字典管理：完整的字典类型和字典数据管理
   - ✅ 用户认证：登录、权限验证
   - ✅ 基础框架：统一响应格式、分页支持

2. **线索管理**
   - ✅ 线索信息管理：增删改查
   - ✅ 线索转客户功能
   - ✅ 线索编号自动生成

3. **客户管理**
   - ✅ 客户信息管理
   - ✅ 客户统计功能
   - ✅ 客户编号自动生成

4. **订单管理**
   - ✅ 订单信息管理
   - ✅ 订单状态管理
   - ✅ 订单统计功能

5. **库存管理**
   - ✅ 库存信息管理
   - ✅ 库存导入导出
   - ✅ 库存预警功能

### 待完善功能

1. **用户权限管理**
   - 用户管理、角色管理、部门管理
   - 菜单权限、数据权限

2. **业务功能完善**
   - 询价管理、供应商管理
   - 跟进记录、联系人管理
   - 报表统计、数据分析

3. **系统优化**
   - 日志管理、异常处理
   - 缓存优化、性能调优
   - 移动端适配

## 系统访问

### 默认访问地址
- **前端地址**: http://localhost:8080
- **后端API**: http://localhost:8081

### 默认账号
- **用户名**: admin
- **密码**: 123456

## 常见问题

### 1. 数据库连接失败
- 检查MySQL服务是否启动
- 确认数据库连接配置是否正确
- 检查防火墙设置

### 2. 前端页面空白
- 检查后端服务是否正常启动
- 确认API接口地址配置是否正确
- 查看浏览器控制台错误信息

### 3. 跨域问题
- 后端已配置CORS支持
- 如仍有问题，检查nginx配置

### 4. 端口冲突
- 修改application.yml中的server.port
- 修改前端package.json中的dev脚本端口

## 技术支持

如遇到部署问题，请检查：
1. 环境要求是否满足
2. 配置文件是否正确
3. 数据库是否正常初始化
4. 网络连接是否正常

## 系统特色

1. **业务针对性强**: 专门为IT分销公司设计，支持无库存业务模式
2. **架构清晰**: 前后端分离，模块化设计，便于维护扩展
3. **功能完整**: 覆盖从线索到成交的完整业务流程
4. **技术先进**: 采用主流技术栈，代码规范，性能优良
5. **易于部署**: 提供完整的部署文档和一键启动脚本

本CRM系统已具备完整的基础架构和核心功能，可直接投入使用，同时具有良好的扩展性，便于后续功能完善和业务拓展。